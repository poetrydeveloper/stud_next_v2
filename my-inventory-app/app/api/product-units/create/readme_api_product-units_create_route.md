–†–æ—É—Ç: /api/product-units/create
üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞: —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —é–Ω–∏—Ç–∞.

üîß –ú–µ—Ç–æ–¥
POST /api/product-units/create
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã (ProductUnit)

üìã –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
–í–∞—Ä–∏–∞–Ω—Ç 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —é–Ω–∏—Ç–∞
json
{
  "cloneFromUnitId": number  // ID —é–Ω–∏—Ç–∞ –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
}
–í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞
json
{
  "productId": number,           // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
  "supplierId": number,          // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "requestPricePerUnit": number  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
–í–∞—Ä–∏–∞–Ω—Ç 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (cloneFromUnitId)
–í—ã–∑—ã–≤–∞–µ—Ç UnitCloneHelper.createClearClone(cloneFromUnitId)

–°–æ–∑–¥–∞–µ—Ç CLEAR –∫–ª–æ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —é–Ω–∏—Ç–∞

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π —é–Ω–∏—Ç

–í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞ (productId)
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ–¥—É–∫—Ç:

–°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞

–ù–∞–ª–∏—á–∏–µ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ Spine

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ:

–£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä (generateSerialNumber)

–ö–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ —é–Ω–∏—Ç (copyProductDataToUnit)

–°–æ–∑–¥–∞–µ—Ç —é–Ω–∏—Ç:

–°—Ç–∞—Ç—É—Å: CLEAR

–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –∫ –ø—Ä–æ–¥—É–∫—Ç—É –∏ Spine

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ü–µ–Ω—É –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞

–°–æ–∑–¥–∞–µ—Ç –ª–æ–≥ –æ–ø–µ—Ä–∞—Ü–∏–∏

–û–±–Ω–æ–≤–ª—è–µ—Ç Spine:

–û–±–Ω–æ–≤–ª—è–µ—Ç brandData –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–º Spine

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –±—Ä–µ–Ω–¥, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ–¥

üìä –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
json
{
  "ok": true,
  "data": { /* —Å–æ–∑–¥–∞–Ω–Ω—ã–π ProductUnit */ },
  "mode": "clone" | "create_from_product"
}
‚ùå –û—à–∏–±–∫–∏:
json
// 400 - –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
{
  "ok": false,
  "error": "productId –∏–ª–∏ cloneFromUnitId required"
}

// 404 - –ü—Ä–æ–¥—É–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
{
  "ok": false, 
  "error": "Product not found"
}

// 400 - –ù–µ—Ç Spine —É –ø—Ä–æ–¥—É–∫—Ç–∞
{
  "ok": false,
  "error": "–£ –ø—Ä–æ–¥—É–∫—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Spine. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç."
}

// 400 - –î—É–±–ª–∏–∫–∞—Ç —Å–µ—Ä–∏–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞
{
  "ok": false,
  "error": "Product unit with this serial number already exists"
}
üõ† –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
generateSerialNumber()
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è —é–Ω–∏—Ç–∞

copyProductDataToUnit()
–ö–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Product –≤ ProductUnit –ø–æ–ª—è

updateSpineBrandData()
–û–±–Ω–æ–≤–ª—è–µ—Ç brandData –≤ Spine –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —é–Ω–∏—Ç–∞

UnitCloneHelper.createClearClone()
–°–æ–∑–¥–∞–µ—Ç CLEAR –∫–ª–æ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —é–Ω–∏—Ç–∞

üéØ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ:
–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–æ–¥–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞

–ü—Ä–∏–≤—è–∑–∫–∞ –∫ Spine –ø—Ä–æ–¥—É–∫—Ç–∞

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–∏–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞

–°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Spine:
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —é–Ω–∏—Ç–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–π Spine:

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–µ–Ω–¥–µ

–û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ö–æ–¥ –ø—Ä–æ–¥—É–∫—Ç–∞

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
–î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ vs —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π Spine: –ü—Ä–æ–¥—É–∫—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–π Spine

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Spine: –°–æ–∑–¥–∞–Ω–∏–µ —é–Ω–∏—Ç–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–∞–Ω–Ω—ã–µ Spine

–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–∏–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞: –ö–æ–Ω—Ç—Ä–æ–ª—å –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –º–µ—Ö–∞–Ω–∏–∑–º —á—Ç–æ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫

Spine –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É Product ‚Üí Spine

–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞: –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —á—Ç–æ –ø—Ä–æ–¥—É–∫—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω