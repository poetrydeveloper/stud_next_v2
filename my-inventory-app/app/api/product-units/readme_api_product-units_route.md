–†–æ—É—Ç: /api/product-units
üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û—Å–Ω–æ–≤–Ω–æ–π endpoint –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–≤–∞—Ä–Ω—ã–º–∏ –µ–¥–∏–Ω–∏—Ü–∞–º–∏ (ProductUnit). –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —é–Ω–∏—Ç–æ–≤ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã.

üîß –ú–µ—Ç–æ–¥—ã
GET /api/product-units
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

üìã –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
productId (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ ID —Ç–æ–≤–∞—Ä–∞

status (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —Å—Ç–∞—Ç—É—Å—É (IN_STORE, SOLD, etc.)

üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
–ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ status - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ —Å—Ç–∞—Ç—É—Å—É (–¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞)

–û–±—ã—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ 200 —é–Ω–∏—Ç–æ–≤ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

üì¶ –í–∫–ª—é—á–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:
–ü—Ä–æ–¥—É–∫—Ç (—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π, –±—Ä–µ–Ω–¥–æ–º, spine, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)

Spine (—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π)

–ü–æ—Å—Ç–∞–≤—â–∏–∫ –∏ –∫–ª–∏–µ–Ω—Ç

–õ–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–Ω–∞—á–∞–ª–∞)

‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
json
{
  "ok": true,
  "data": [/* –º–∞—Å—Å–∏–≤ ProductUnit */]
}
PATCH /api/product-units
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã –≤ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ –∑–∞–∫–∞–∑

üìã –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
json
{
  "unitId": number,    // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
  "quantity": number   // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1
}
üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —é–Ω–∏—Ç–∞

–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ CANDIDATE

–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –≤—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã

–°–æ–∑–¥–∞–µ—Ç –ª–æ–≥ –æ–ø–µ—Ä–∞—Ü–∏–∏

–ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–≤–∞—Ä–∞

üìä –ò–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è:
statusCard ‚Üí CANDIDATE

quantityInCandidate = quantity

createdAtCandidate = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

–î–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥–∏

‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
json
{
  "ok": true,
  "data": {/* –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π ProductUnit */}
}
üõ† –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
recalcProductUnitStats(productId)
–ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–≤–∞—Ä–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

getInventoryByStatus(status)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ —Å—Ç–∞—Ç—É—Å—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ Map<–∫–æ–¥, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ>

‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ –∑–∞–º–µ—á–∞–Ω–∏—è
GET –º–µ—Ç–æ–¥:

–õ–∏–º–∏—Ç 200 –∑–∞–ø–∏—Å–µ–π –±–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

–ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ card —Å—Ç–∞—Ç—É—Å–∞–º (—Ç–æ–ª—å–∫–æ physical status)

PATCH –º–µ—Ç–æ–¥:

–ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —é–Ω–∏—Ç–∞ (–º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π CANDIDATE)

–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

–û–±—â–µ–µ:

–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å

–ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤—Å–µ–≥–¥–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å —Ç—è–∂–µ–ª–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤)

–°–ª–µ–¥—É—é—â–∏–π —Ä–æ—É—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞? –ü–æ–∫–∞–∂–∏—Ç–µ app/api/product-units/page-data/route.ts