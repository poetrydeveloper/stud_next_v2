–†–æ—É—Ç: /api/product-units/[id]
üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü–µ–π - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π (–ø—Ä–æ–¥–∞–∂–∞, –≤–æ–∑–≤—Ä–∞—Ç, –æ–ø–ª–∞—Ç–∞ –∫—Ä–µ–¥–∏—Ç–∞).

üîß –ú–µ—Ç–æ–¥—ã
GET /api/product-units/[id]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü–µ

PATCH /api/product-units/[id]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü–µ–π

üìã –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
id (number) - ID —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã

üîÑ GET - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–í–∫–ª—é—á–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:
Spine, –ø–æ—Å—Ç–∞–≤—â–∏–∫, –∫–ª–∏–µ–Ω—Ç

–ü—Ä–æ–¥—É–∫—Ç (—Å –±—Ä–µ–Ω–¥–æ–º, –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)

–î–æ—á–µ—Ä–Ω–∏–µ —é–Ω–∏—Ç—ã

Cash —Å–æ–±—ã—Ç–∏—è (—Å –¥–∞–Ω–Ω—ã–º–∏ –∫–∞—Å—Å–æ–≤–æ–≥–æ –¥–Ω—è)

–õ–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 –∑–∞–ø–∏—Å–µ–π)

‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
json
{
  "ok": true,
  "data": { /* –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ProductUnit */ }
}
‚ùå –û—à–∏–±–∫–∏:
404 - –Æ–Ω–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

500 - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

üîÑ PATCH - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —é–Ω–∏—Ç–æ–º
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
json
{
  "action": "sell" | "return" | "creditPay",
  "salePrice": number,      // –¥–ª—è sell/creditPay
  "buyerName": string,      // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "buyerPhone": string      // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
1. –ü—Ä–æ–¥–∞–∂–∞ (action: "sell")
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

–Æ–Ω–∏—Ç –≤ —Å—Ç–∞—Ç—É—Å–µ IN_STORE

–û—Ç–∫—Ä—ã—Ç –∫–∞—Å—Å–æ–≤—ã–π –¥–µ–Ω—å

–õ–æ–≥–∏–∫–∞:

–ï—Å–ª–∏ salePrice = 0 ‚Üí –∫—Ä–µ–¥–∏—Ç (CREDIT)

–ò–Ω–∞—á–µ ‚Üí –ø—Ä–æ–¥–∞–∂–∞ (SOLD)

–°–æ–∑–¥–∞–µ—Ç CashEvent (–∫—Ä–æ–º–µ –∫—Ä–µ–¥–∏—Ç–∞)

–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è

2. –í–æ–∑–≤—Ä–∞—Ç (action: "return")
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

–Æ–Ω–∏—Ç –≤ —Å—Ç–∞—Ç—É—Å–µ SOLD –∏–ª–∏ CREDIT

–õ–æ–≥–∏–∫–∞:

–í–æ–∑–≤—Ä–∞—Ç –≤ IN_STORE

–ï—Å–ª–∏ –±—ã–ª–∞ –ø—Ä–æ–¥–∞–∂–∞ –∑–∞ –¥–µ–Ω—å–≥–∏ ‚Üí CashEvent –≤–æ–∑–≤—Ä–∞—Ç–∞

–û—Ç–º–µ—á–∞–µ—Ç –≤—Ä–µ–º—è –≤–æ–∑–≤—Ä–∞—Ç–∞

3. –û–ø–ª–∞—Ç–∞ –∫—Ä–µ–¥–∏—Ç–∞ (action: "creditPay")
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

–Æ–Ω–∏—Ç –≤ —Å—Ç–∞—Ç—É—Å–µ CREDIT —Å isCredit: true

–õ–æ–≥–∏–∫–∞:

–ü–µ—Ä–µ–≤–æ–¥ –≤ SOLD

CashEvent –æ–ø–ª–∞—Ç—ã

–û—Ç–º–µ—á–∞–µ—Ç –≤—Ä–µ–º—è –æ–ø–ª–∞—Ç—ã –∫—Ä–µ–¥–∏—Ç–∞

üí∞ Cash Events –ª–æ–≥–∏–∫–∞
–°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:
–ü—Ä–æ–¥–∞–∂–∞: SALE + —Å—É–º–º–∞

–í–æ–∑–≤—Ä–∞—Ç: RETURN - —Å—É–º–º–∞

–û–ø–ª–∞—Ç–∞ –∫—Ä–µ–¥–∏—Ç–∞: SALE + —Å—É–º–º–∞

–ö–∞—Å—Å–æ–≤—ã–π –¥–µ–Ω—å:
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –¥–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∫ —Ç–µ–∫—É—â–µ–º—É –∫–∞—Å—Å–æ–≤–æ–º—É –¥–Ω—é

üìä –û–±–Ω–æ–≤–ª—è–µ–º—ã–µ –ø–æ–ª—è
–ü—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ:
statusProduct: IN_STORE ‚Üí SOLD/CREDIT

soldAt: –≤—Ä–µ–º—è –ø—Ä–æ–¥–∞–∂–∏

salePrice: —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏

customerName, customerPhone: –¥–∞–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è

isCredit: true –µ—Å–ª–∏ –∫—Ä–µ–¥–∏—Ç

–ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ:
statusProduct: SOLD/CREDIT ‚Üí IN_STORE

isReturned: true

returnedAt: –≤—Ä–µ–º—è –≤–æ–∑–≤—Ä–∞—Ç–∞

–ü—Ä–∏ –æ–ø–ª–∞—Ç–µ –∫—Ä–µ–¥–∏—Ç–∞:
statusProduct: CREDIT ‚Üí SOLD

creditPaidAt: –≤—Ä–µ–º—è –æ–ø–ª–∞—Ç—ã

salePrice: –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤: –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

–ö–∞—Å—Å–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∫–∞—Å—Å–æ–≤–æ–≥–æ –¥–Ω—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è

–ü–µ—Ä–µ—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: –ü–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∞

üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
CashDayService - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å—Å–æ–≤—ã–º–∏ –¥–Ω—è–º–∏

recalcProductUnitStats - –ø–µ—Ä–µ—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞

–ö–∞—Å—Å–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π