–†–æ—É—Ç: /api/product-units/[id]/delivery
üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ—Å—Ç–∞–≤–∫–∏ —Ç–æ–≤–∞—Ä–∞ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ –≤—Å–µ–º —Å—Ç–∞—Ç—É—Å–∞–º –¥–æ—Å—Ç–∞–≤–∫–∏ –æ—Ç "–≤ –∑–∞—è–≤–∫–µ" –¥–æ "–Ω–∞ —Å–∫–ª–∞–¥–µ".

üîß –ú–µ—Ç–æ–¥
PATCH /api/product-units/[id]/delivery
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–æ—Å—Ç–∞–≤–∫–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –æ–¥–Ω—É –æ–ø–µ—Ä–∞—Ü–∏—é

üìã –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
id (number) - ID —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã

üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–ø–æ—á–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:
–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:

IN_REQUEST ‚Üí IN_DELIVERY

–°—Ç–∞—Ä—Ç –¥–æ—Å—Ç–∞–≤–∫–∏

–õ–æ–≥: DELIVERY_START

IN_DELIVERY ‚Üí ARRIVED

–¢–æ–≤–∞—Ä –ø—Ä–∏–±—ã–ª

–õ–æ–≥: DELIVERY_ARRIVED

ARRIVED ‚Üí IN_STORE

–†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ

–õ–æ–≥: IN_STORE

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç statusProduct: IN_STORE

‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
–í—Å–µ –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
–¢—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤

–ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è - –ª–∏–±–æ –≤—Å–µ —à–∞–≥–∏, –ª–∏–±–æ –Ω–∏—á–µ–≥–æ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

–§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å:
typescript
statusCard: "IN_STORE"
statusProduct: "IN_STORE"
üìä –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
json
{
  "ok": true,
  "data": {
    /* ProductUnit –≤ —Å—Ç–∞—Ç—É—Å–µ IN_STORE */
  }
}
‚ùå –û—à–∏–±–∫–∏:
json
// 404 - –Æ–Ω–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
{
  "ok": false, 
  "error": "Unit not found"
}

// 400 - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –Ω–∞—á–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
{
  "ok": false,
  "error": "Unit must be in IN_REQUEST status"
}

// 500 - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
{
  "ok": false,
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
üéØ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
–Æ–Ω–∏—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ IN_REQUEST

–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤–∫–∏ —Ç–æ–≤–∞—Ä–∞

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ –≤—Å–µ —ç—Ç–∞–ø—ã –¥–æ—Å—Ç–∞–≤–∫–∏

–§–∏–∫—Å–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ —Å–∫–ª–∞–¥

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
–ñ–µ—Å—Ç–∫–∞—è –ª–æ–≥–∏–∫–∞: –¢–æ–ª—å–∫–æ –∏–∑ IN_REQUEST, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

–ù–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π: –ù–µ–ª—å–∑—è –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ IN_DELIVERY –∏–ª–∏ ARRIVED

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∑–∞—è–≤–∫–∏, —Ü–µ–Ω—ã)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –¢—Ä–∏ –ª–æ–≥–∞ –∑–∞ –æ–¥–Ω—É –æ–ø–µ—Ä–∞—Ü–∏—é

üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥: POST /api/product-units/request (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏)

–û–±—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: POST /api/product-units/revert-to-request (–æ—Ç–∫–∞—Ç –∏–∑ IN_STORE)

üìà –°—Ç–∞—Ç—É—Å–Ω–∞—è –º–æ–¥–µ–ª—å
text
CLEAR ‚Üí CANDIDATE ‚Üí IN_REQUEST ‚Üí [IN_DELIVERY ‚Üí ARRIVED] ‚Üí IN_STORE ‚Üí SOLD/CREDIT
                     ‚Üë
           revert-to-request ‚Üê IN_STORE
–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –≤ —ç—Ç–æ–º endpoint