–†–æ—É—Ç: /api/product-units/request
üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä - –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ —Å—Ç–∞—Ç—É—Å–∞ CANDIDATE –≤ IN_REQUEST. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –æ–¥–∏–Ω–æ—á–Ω—ã–µ, —Ç–∞–∫ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏.

üîß –ú–µ—Ç–æ–¥
POST /api/product-units/request
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä(—ã) –∏–∑ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

üìã –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
json
{
  "unitId": number,      // ID —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã-–∫–∞–Ω–¥–∏–¥–∞—Ç–∞
  "quantity": number,    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (1 = –æ–¥–∏–Ω–æ—á–Ω–∞—è, >1 = –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è)
  "pricePerUnit": number // –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É (> 0)
}
üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ quantity >= 1

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ pricePerUnit > 0

2. –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:
–ü–µ—Ä–µ–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ RequestService.createRequest() –∫–æ—Ç–æ—Ä—ã–π:

–î–ª—è quantity = 1 (–æ–¥–∏–Ω–æ—á–Ω–∞—è –∑–∞—è–≤–∫–∞):

–°–æ–∑–¥–∞–µ—Ç CLEAR –∫–ª–æ–Ω —é–Ω–∏—Ç–∞

–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª –≤ IN_REQUEST

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–Ω—É

–°–æ–∑–¥–∞–µ—Ç –ª–æ–≥–∏

–î–ª—è quantity > 1 (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞):

–°–æ–∑–¥–∞–µ—Ç CLEAR –∫–ª–æ–Ω

–ü–µ—Ä–µ–≤–æ–¥–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª –≤ SPROUTED

–°–æ–∑–¥–∞–µ—Ç N –¥–æ—á–µ—Ä–Ω–∏—Ö —é–Ω–∏—Ç–æ–≤ –≤ IN_REQUEST

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–Ω—É –¥–ª—è –≤—Å–µ—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö

–°–æ–∑–¥–∞–µ—Ç –ª–æ–≥–∏ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

üìä –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
json
{
  "ok": true,
  "data": {
    // –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –∑–∞—è–≤–∫–∏
  },
  "message": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏"
}
‚ùå –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (400):
json
{
  "ok": false,
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
‚ùå –û—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (500):
json
{
  "ok": false, 
  "error": "Internal server error"
}
üéØ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —é–Ω–∏—Ç—É:
–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ CANDIDATE

–î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –±–∞–∑–µ

–°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:
CLEAR –∫–ª–æ–Ω - –∑–∞–º–µ–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–∞ —Å–∫–ª–∞–¥–µ

SPROUTED —Ä–æ–¥–∏—Ç–µ–ª—å (–¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫)

IN_REQUEST –¥–µ—Ç–∏ (–¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫)

–ò–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è:
statusCard: CANDIDATE ‚Üí IN_REQUEST/SPROUTED

requestPricePerUnit: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ü–µ–Ω–∞

createdAtRequest: –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
–°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∏

–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ —é–Ω–∏—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Å—Ç–∞—Ç—É—Å–µ

üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥: PATCH /api/product-units (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã)

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: PATCH /api/product-units/[id]/delivery (–ø–æ—Å—Ç–∞–≤–∫–∞ —Ç–æ–≤–∞—Ä–∞)