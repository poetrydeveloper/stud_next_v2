–†–æ—É—Ç: /api/product-units/revert-to-request
üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û—Ç–∫–∞—Ç —Ç–æ–≤–∞—Ä–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã –∏–∑ —Å—Ç–∞—Ç—É—Å–∞ "–Ω–∞ —Å–∫–ª–∞–¥–µ" –æ–±—Ä–∞—Ç–Ω–æ –≤ —Å—Ç–∞—Ç—É—Å "–≤ –∑–∞—è–≤–∫–µ". –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –æ—à–∏–±–æ—á–Ω–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.

üîß –ú–µ—Ç–æ–¥
POST /api/product-units/revert-to-request
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞ –∏–∑ IN_STORE –æ–±—Ä–∞—Ç–Ω–æ –≤ IN_REQUEST

üìã –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
json
{
  "unitId": number
}
üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
1. –í–∞–ª–∏–¥–∞—Ü–∏—è:
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ unitId

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —é–Ω–∏—Ç–∞

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ —é–Ω–∏—Ç –≤ —Å—Ç–∞—Ç—É—Å–µ IN_STORE

2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤:
typescript
// –î–æ:
statusCard: –ª—é–±–æ–π, statusProduct: "IN_STORE"

// –ü–æ—Å–ª–µ:  
statusCard: "IN_REQUEST", statusProduct: null
3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
–°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥–∞—Ö —Å –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–º–∏:

–ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç–∞—Ç—É—Å—ã

–ù–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã

–í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞

üìä –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
json
{
  "ok": true,
  "data": {
    /* –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π ProductUnit */
  }
}
‚ùå –û—à–∏–±–∫–∏:
json
// 400 - –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
{
  "ok": false,
  "error": "unitId is required"
}

// 404 - –Æ–Ω–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω  
{
  "ok": false, 
  "error": "Product unit not found"
}

// 400 - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
{
  "ok": false,
  "error": "Product unit is not in IN_STORE status"
}
üéØ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
–û—à–∏–±–æ—á–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞ —Ç–æ–≤–∞—Ä–∞

–í–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É

–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å–∫–ª–∞–¥—Å–∫–æ–≥–æ —É—á–µ—Ç–∞

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
–†–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –∏–∑ —Å—Ç–∞—Ç—É—Å–∞ IN_STORE

–ù–µ–ª—å–∑—è –æ—Ç–∫–∞—Ç–∏—Ç—å –ø—Ä–æ–¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã (SOLD)

–ù–µ–ª—å–∑—è –æ—Ç–∫–∞—Ç–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –∫—Ä–µ–¥–∏—Ç–µ (CREDIT)

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
–°–±—Ä–æ—Å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞: statusProduct —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ null

–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π card —Å—Ç–∞—Ç—É—Å: –í—Å–µ–≥–¥–∞ IN_REQUEST (–Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π)

–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞—è–≤–∫–∏: –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∑–∞—è–≤–∫–∏, –ø—Ä–æ–¥–∞–∂–∏)

üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
–ü—Ä—è–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: PATCH /api/product-units/[id]/delivery (IN_REQUEST ‚Üí IN_STORE)

–û–±—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: –≠—Ç–æ—Ç endpoint (IN_STORE ‚Üí IN_REQUEST)